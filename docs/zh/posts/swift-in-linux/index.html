<!DOCTYPE html><html lang="zh"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="sitemap" href="/sitemap-index.xml"><!-- <link rel="shortcut icon" href={iconSVG.src} /> --><link rel="icon" type="image/png" sizes="16x16" href="/_astro/favicon-16x16.2312221518-2.DhhY-2ao.png"><link rel="icon" type="image/png" sizes="32x32" href="/_astro/favicon-32x32.2312221518-2.BbUzUdRZ.png"><link rel="mask-icon" href="/_astro/faviconSVG-32x32.2312221518-2.ll_gTgJS.svg"><link rel="apple-touch-icon" sizes="180x180" href="/_astro/apple-touch-icon.2312227635.BE1WvNvp.png"><title>在 Linux 系统上搭建 Swift 开发调试环境 | 肘子的 Swift 记事本</title>
<meta name="description" content="在Linux上搭建Swift生产级开发环境，实现代码高亮、自动补全、断点调试、代码美化等功能。含LSP,LLDB,SwiftFormat,SwiftLint配置及跨平台方案。">
<meta name="robots" content="index,follow">
<link rel="canonical" href="https://fatbobman.com/zh/posts/swift-in-linux/">
<meta property="og:title" content="在 Linux 系统上搭建 Swift 开发调试环境 | 肘子的 Swift 记事本">
<meta property="og:description" content="在Linux上搭建Swift生产级开发环境，实现代码高亮、自动补全、断点调试、代码美化等功能。含LSP,LLDB,SwiftFormat,SwiftLint配置及跨平台方案。">
<meta property="og:url" content="https://fatbobman.com/zh/posts/swift-in-linux/">
<meta property="og:type" content="article">
<meta property="og:image" content="https://fatbobman.com/images/blog-card.png">

<meta property="og:locale" content="zh">
<meta property="og:site_name" content="fatbobman.com">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@fatbobman">
<meta name="twitter:creator" content="@fatbobman"><link rel="alternate" type="application/rss+xml" title="RSS Feed for My Website" href="https://fatbobman.com/zh/rss.xml"><link rel="sitemap" href="/sitemap-index.xml"><meta name="keywords" content="Swift 编程,Swift Programming,SwiftUI 教程,SwiftUI Tutorials,Core Data 实践,Core Data Practices,SwiftData 应用,SwiftData Applications,iOS 开发,iOS Development,Swift UI 设计,Swift UI Design,Swift 性能优化,Swift Performance Optimization,Swift 编码技巧,Swift Coding Techniques,iOS 应用开发,iOS App Development,Swift 数据管理,Swift Data Management,SwiftUI 布局,SwiftUI Layout,SwiftUI 动画,SwiftUI Animation"><link rel="alternate" hreflang="zh" href="https://fatbobman.com/zh/posts/swift-in-linux/">
<link rel="alternate" hreflang="en" href="https://fatbobman.com/en/posts/swift-in-linux/"><!-- <script is:inline>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?14e5d60a3ea6276655f9d14c58b1fcd0";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script> --><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5C7N4MF5');</script> <!-- End Google Tag Manager --><script>
      // Immediately set theme before page renders
      if (
        localStorage.getItem('color-theme') === 'dark' ||
        (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
      ) {
        document.documentElement.classList.add('dark');
      }
    </script><link rel="stylesheet" href="/_astro/about.D4OYV9iO.css">
<link rel="stylesheet" href="/_astro/_slug_.BRLGXoDU.css">
<style>.sticky[data-astro-cid-4wsjtibl]{position:fixed;top:0;left:50%;transform:translate(-50%);width:100%;max-width:100%}
</style></head> <body class="antialiased text-default bg-page">  <div class="flex flex-col min-h-screen justify-between "> <div> <header> <div class="bg-block" id="wholeHeader" data-astro-cid-4wsjtibl> <div id="blogTitle"> <a href="/zh/"> <div class="flex space-x-4 mx-auto text-center pt-6 sm:pt-6 font-black w-[240px] sm:w-[300px] pb-2 sm:pb-0"> <svg fill="currentColor" class="text-heading" width="500"> <use href="/_astro/blogTitle.Ca1NZNqJ.svg#blog-title"></use> </svg> </div> </a> </div> <div class="bg-block z-50 shadow-custom-light dark:shadow-custom-dark" id="stickyHeader" data-astro-cid-4wsjtibl> <div class="max-w-5xl flex flex-wrap items-center justify-between mx-auto p-2 sm:p-0" data-astro-cid-4wsjtibl> <div class="flex space-x-2" data-astro-cid-4wsjtibl> <div id="lang-data" data-lang="zh" style="display: none;"></div> <button id="language-dropdown-button" data-dropdown-toggle="language-dropdown-menu" type="button" class="p-2 w-10 h-10 font-medium text-default hover:text-secondary hover:bg-gray-100 dark:hover:bg-page focus:outline-none focus:ring-2 focus:ring-gray-200 dark:hover:bg-gray-700 dark:focus:ring-gray-600 rounded-lg"> ZH </button> <!-- Dropdown --> <div class="z-50 hidden my-4 text-base list-none bg-page divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700" id="language-dropdown-menu"> <ul class="py-2 font-medium text-sm" role="none"> <li> <a href="/en/posts/swift-in-linux/" class="block px-4 py-2 text-default hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white" role="menuitem"> <div class="inline-flex items-center">
English
<svg class="w-3.5 h-3.5 ml-2 hidden text-primary" id="EN-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="currentColor" stroke-linecap="round" stroke-linejoin="round"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-aifadian"></use> </svg> </div> </a> </li><li> <a href="#" class="block px-4 py-2 text-default hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white" role="menuitem"> <div class="inline-flex items-center">
中文
<svg xmlns="http://www.w3.org/2000/svg" class="w-3.5 h-3.5 ml-2 hidden text-primary" id="ZH-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-aifadian"></use> </svg> </div> </a> </li> <li> <div class="border-t border-gray-200 dark:border-gray-800 w-4/5 mx-auto my-2"></div> <button class="block px-4 py-2 text-default hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white" role="menuitem" id="set-default-lang"> <div class="inline-flex items-center"> 将中文设置为默认 </div> </button> </li> </ul> <script type="module">function a(){const t=localStorage.getItem("lang"),e=document.getElementById("EN-check"),n=document.getElementById("ZH-check");e!==null&&n!==null&&(t==="en"?(e.classList.remove("hidden"),n.classList.add("hidden")):t==="zh"&&(n.classList.remove("hidden"),e.classList.add("hidden")))}document.addEventListener("DOMContentLoaded",()=>{a()});const l=document.getElementById("set-default-lang");l?.addEventListener("click",()=>{const t=document.getElementById("lang-data");if(t!=null){const e=t.dataset.lang;e!=null&&(localStorage.setItem("lang",e),a())}});</script> </div> <button id="theme-dropdown-button" data-dropdown-toggle="theme-dropdown-menu" type="button" class="group p-2 w-10 h-10 text-default hover:bg-gray-100 dark:hover:bg-page focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 rounded-lg flex items-center justify-center"> <svg viewBox="0 0 1024 1024" stroke="currentColor" class="w-5 h-5 text-default fill-current group-hover:text-secondary hidden" id="theme_icon_system"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-computer"></use> </svg> <svg viewBox="0 0 1024 1024" stroke="currentColor" class="w-5 h-5 text-default fill-current group-hover:text-secondary hidden" id="theme_icon_dark"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-moon"></use> </svg> <svg viewBox="0 0 24 24" stroke="currentColor" class="w-5 h-5 text-default fill-current group-hover:text-secondary hidden" id="theme_icon_light"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-sun"></use> </svg> </button> <!-- Dropdown --> <div class="z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700" id="theme-dropdown-menu"> <ul class="py-2 font-medium" role="none"> <li class="hover:bg-gray-100 dark:hover:bg-gray-600"> <button class="flex px-4 py-2 text-sm align-text-center dark:hover:text-white text-default" id="theme_button_light"> <svg class="w-5 h-5" viewBox="0 0 1024 1024" stroke-width="2" stroke="currentColor" fill="currentColor" stroke-linecap="round" stroke-linejoin="round"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-sun"></use> </svg> <span class="ml-2 dark:hover:text-white">Light</span> </button> </li> <li class="hover:bg-gray-100 dark:hover:bg-gray-600"> <button class="flex px-4 py-2 text-sm align-text-center dark:hover:text-white text-default" id="theme_button_dark"> <svg class="w-5 h-5"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-moon"></use> </svg> <span class="ml-2 text-default dark:hover:text-white">Dark</span> </button> </li> <li class="hover:bg-gray-100 dark:hover:bg-gray-600"> <button class="flex px-4 py-2 text-sm align-text-center dark:hover:text-white text-default" id="theme_button_system"> <svg class="w-5 h-5"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-computer"></use> </svg> <span class="ml-2 dark:hover:text-white">System</span> </button> </li> </ul> </div> <script>
  // 获取按钮
  var themeButtonLight = document.getElementById('theme_button_light');
  var themeButtonDark = document.getElementById('theme_button_dark');
  var themeButtonSystem = document.getElementById('theme_button_system');
  // 获取图标
  var themeToggleDarkIcon = document.getElementById('theme_icon_dark');
  var themeToggleLightIcon = document.getElementById('theme_icon_light');
  var themeToggleSystemIcon = document.getElementById('theme_icon_system');

  function setTheme() {
    if (
      localStorage.getItem('color-theme') === 'dark' ||
      (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
    ) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
  }

  function setThemeButton() {
    let theme = localStorage.getItem('color-theme');
    if (theme === 'dark') {
      themeToggleDarkIcon.classList.remove('hidden');
      themeToggleLightIcon.classList.add('hidden');
      themeToggleSystemIcon.classList.add('hidden');
    } else if (theme === 'light') {
      themeToggleDarkIcon.classList.add('hidden');
      themeToggleLightIcon.classList.remove('hidden');
      themeToggleSystemIcon.classList.add('hidden');
    } else {
      themeToggleDarkIcon.classList.add('hidden');
      themeToggleLightIcon.classList.add('hidden');
      themeToggleSystemIcon.classList.remove('hidden');
    }
  }

  function resetTheme() {
    setTheme();
    setThemeButton();
  }

  resetTheme();

  // 监听暗黑模式的变化
  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
    resetTheme();
  });

  // 保证其他的页面也能够监听到 localStorage 的变化
  window.addEventListener('storage', function (event) {
    if (event.key === 'color-theme') {
      resetTheme();
    }
  });


  // Listen for clicks on the button themeToggleDarkIcon
  themeButtonDark.addEventListener('click', function () {
    localStorage.setItem('color-theme', 'dark');
    resetTheme();
  });

  // // Listen for clicks on the button themeToggleLightIcon
  themeButtonLight.addEventListener('click', function () {
    localStorage.setItem('color-theme', 'light');
    resetTheme();
  });

  // // Listen for clicks on the button themeToggleSystemIcon
  themeButtonSystem.addEventListener('click', function () {
    localStorage.removeItem('color-theme');
    resetTheme();
  });
</script> <div id="docsearch" class="group w-10 h-10 text-default hover:bg-gray-100 dark:hover:bg-page focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 rounded-lg flex items-center justify-center"> <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true" class="DocSearch-Search-Icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg> </div> </div> <button data-collapse-toggle="navbar-solid-bg" type="button" class="inline-flex items-center p-2 mx-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-solid-bg" aria-expanded="false" id="navbar-toggle-button"> <span class="sr-only">Open main menu</span> <svg class="w-5 h-5 text-default" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"></path> </svg> </button> <nav class="hidden w-full md:block md:w-auto px-4 z-40" id="navbar-solid-bg"> <ul class="flex flex-col font-bold mt-4 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-transparent dark:bg-gray-800 md:dark:bg-transparent dark:border-gray-700"> <a href="/zh/" class="block py-2 px-3 md:p-0 rounded  text-heading md:hover:text-secondary hover:bg-gray-100 dark:hover:bg-gray-700 md:hover:bg-transparent md:dark:hover:bg-transparent"> 首页 </a><a href="/zh/posts/" class="block py-2 px-3 md:p-0 rounded text-invert bg-secondary md:bg-transparent md:text-secondary md:dark:bg-transparent" aria-current="page"> 文章 </a><a href="/zh/weekly/" class="block py-2 px-3 md:p-0 rounded  text-heading md:hover:text-secondary hover:bg-gray-100 dark:hover:bg-gray-700 md:hover:bg-transparent md:dark:hover:bg-transparent"> 周报 </a><a href="/zh/snippet/" class="block py-2 px-3 md:p-0 rounded  text-heading md:hover:text-secondary hover:bg-gray-100 dark:hover:bg-gray-700 md:hover:bg-transparent md:dark:hover:bg-transparent"> 小贴士 </a><a href="/zh/about/" class="block py-2 px-3 md:p-0 rounded  text-heading md:hover:text-secondary hover:bg-gray-100 dark:hover:bg-gray-700 md:hover:bg-transparent md:dark:hover:bg-transparent"> 关于 </a> </ul> </nav> </div> </div> <div id="placeholder" class="hidden" data-astro-cid-4wsjtibl></div> </div> <script>(function(){const enableSticky = true;
const enableStickyInMobile = true;

  window.onload = function () {
    checkStickyHeader();
    stickySetup();
  };

  window.addEventListener('resize', stickySetup);

  function checkStickyHeader() {
    const title = document.getElementById('blogTitle');
    const stickyHeader = document.getElementById('stickyHeader');
    const placeholder = document.getElementById('placeholder');

    if (title && stickyHeader && placeholder) {
      const offset = title.offsetTop + title.offsetHeight;

      if (shouldStick() && window.scrollY >= offset) {
        stickyHeader.classList.add('sticky');
        placeholder.style.display = 'block';
        placeholder.style.height = `${stickyHeader.offsetHeight}px`;
      } else {
        stickyHeader.classList.remove('sticky');
        placeholder.style.display = 'none';
      }
    }
  }

  function shouldStick() {
    if (!enableSticky) return false;

    let isMobile = window.matchMedia('(max-width: 640px)').matches;
    if (isMobile && !enableStickyInMobile) return false;

    return true;
  }

  function stickySetup() {
    window.onscroll = checkStickyHeader;
  }
})();</script>  </header>  <main class="w-full mx-auto max-w-3xl p-4 md:p-6 "> <div class="container mx-auto space-y-6 sm:space-y-12">   <div class="mx-auto space-y-4 text-center py-10" style="width:80%"> <div class="flex mx-auto justify-center"> <div class="flex mx-auto justify-center"> <a class="text-xs font-medium sm:font-semibold mx-2 text-muted hover:text-secondary" href="/zh/tags/Swift/">
#Swift </a><a class="text-xs font-medium sm:font-semibold mx-2 text-muted hover:text-secondary" href="/zh/tags/Dev-Tools/">
#Dev Tools </a> <a class="text-xs font-medium sm:font-semibold mx-2 text-muted hover:text-secondary" href="/en/posts/swift-in-linux/" id="language-switcher-for-topic"> #English </a> </div> </div> <h1 class="text-2xl font-bold leadi md:text-3xl text-heading">在 Linux 系统上搭建 Swift 开发调试环境</h1> <p class="text-sm text-default"> <a itemprop="author" href="https://x.com/intent/follow?screen_name=fatbobman" target="_blank" class="hover:text-secondary font-medium">东坡肘子</a> <!-- <time datetime={`${post.data.publishDate.toISOString()}`}>{date}</time> --> </p> <p class="text-xs text-muted"> 发表于 <time datetime="2021-02-15T07:00:00.000Z">2021 年 2 月 15 日</time>  </p> </div> <svg style="display: none;"> <symbol id="icon-clipboard" viewBox="0 0 1024 1024"> <path d="M426.666667 42.666667l170.666667 0q41.344 0 74.325333 23.850667t46.336 61.482667l50.005333 0q52.992 0 90.496 37.504t37.504 90.496l0 597.333333q0 52.992-37.504 90.496t-90.496 37.504l-512 0q-52.992 0-90.496-37.504t-37.504-90.496l0-597.333333q0-52.992 37.504-90.496t90.496-37.504l50.005333 0q13.312-37.674667 46.336-61.482667t74.325333-23.850667zM768 213.333333l-50.005333 0q-13.312 37.674667-46.336 61.482667t-74.325333 23.850667l-170.666667 0q-41.344 0-74.325333-23.850667t-46.336-61.482667l-50.005333 0q-17.664 0-30.165333 12.501333t-12.501333 30.165333l0 597.333333q0 17.664 12.501333 30.165333t30.165333 12.501333l512 0q17.664 0 30.165333-12.501333t12.501333-30.165333l0-597.333333q0-17.664-12.501333-30.165333t-30.165333-12.501333zM597.333333 128l-170.666667 0q-17.664 0-30.165333 12.501333t-12.501333 30.165333 12.501333 30.165333 30.165333 12.501333l170.666667 0q17.664 0 30.165333-12.501333t12.501333-30.165333-12.501333-30.165333-30.165333-12.501333z"></path> </symbol> <symbol id="icon-check" viewBox="0 0 1024 1024"> <path d="M421.858 683.366l401.796-448.518c18.66-20.828 50.668-22.586 71.498-3.928 20.828 18.66 22.586 50.67 3.928 71.498L463.638 788.494c-18.606 20.768-50.5 22.586-71.344 4.066l-263.29-233.924c-20.906-18.572-22.796-50.576-4.222-71.48 18.574-20.906 50.576-22.796 71.48-4.222L421.86 683.366z"></path> </symbol> </svg> <div class="relative" id="article-area"> <article class="prose dark:prose-invert mx-auto w-full"> <div> 
<div class="dynamic-ad-container pt-4"></div>
<h2 id="swift-与-linux">Swift 与 Linux</h2>
<p>自 2015 年 Swift 宣布开源并支持 Linux 后，一晃已超过 5 年。在最初几年间尽管 Swift 发展迅速，但并未被 Linux 社区广泛接受。造成这种局面的原因较多，其中既有语言稳定性方面的问题，同时又有对 Linux 的支持不完善、缺乏具有吸引力的基础库和第三方库、热点项目不足等多方面原因。</p>
<p>最近两年，上述问题均得到显著改善。</p>
<ul>
<li>从 Swift 5 开始 Swift 团队宣布 ABI 稳定了。自此，Swift 为应用程序提供了二进制兼容性，有了 ABI 稳定性作为基础，Swift 对其他平台的支持速度和力度将大大提高</li>
<li>2020 年 Swift 团队推出了 5.3 版本，除了“重要的质量提升和性能增强”之外，Swift 5.3 的一个关键特性是正式支持 Linux 和 Window 平台。事实上，这也是 Swift 的发布流程首次为三个不同的平台分别设立了发布负责人。作为承诺将 Swift 引入 Linux 的第一份成果，Swift 团队宣布新的 Swift 版本可用于一众 Linux 发行版上。</li>
<li>出现了大量优秀的官方和第三方的跨平台库。仅 Apple 公司，最近几年来已经为 Swift 社区贡献了大量的 Swift 代码，并保持着非常高的提交频率。</li>
<li>Swift 在服务器端及深度学习领域取得了不错的应用成果。</li>
</ul>
<p>Swift 已经准备在 Linux 有更多的表现。</p>
<h2 id="写本文的原因">写本文的原因</h2>
<p>前些日子写了篇 <a href="/zh/posts/publish-1/" target="_blank">用 Publish 创建博客（一）——入门</a>（一个用 Swift 编写的优秀的静态网站生成器）的介绍，期间有网友问我是否可以在 Linux 上使用，我回答不成问题。但转过头来思考，虽然 <code>Publish</code> 完美地支持 Linux，但开发者能否像在 mac 上一样方便的进行开发调试呢？</p>
<p>之前使用 <code>Vapor</code> 的时候，曾通过 <code>Docker</code> 在 Ubuntu 上安装过 Swift，不过代码是在 mac 上调试的。我也十分好奇，在 2021 年 Swift 到底在 Linux 下的开发环境如何？</p>
<p>本文的目标是在 Linux 上搭建一个可供生产标准的 Swift 开发调试环境。使用者将获得一个支持代码高亮、自动补全、定义跳转、断点调试、代码美化、代码静态扫描、跨操作系统平台配置的综合开发体验。</p>
<h2 id="准备">准备</h2>
<p>由于每个人使用的 Linux 发行版本不同，因此在安装过程中，如遇到缺少必要依赖的情况，请自行按系统提示安装所需的依赖库即可。</p>
<p>本文在描述每一步该如何做的同时，还会做出必要的解释。即使你使用的是其他的 Linux 发行版，或者不同的编辑器，甚至在 Swift 或其他工具发生了重大的升级后，仍可按照下面安装思路进行环境搭建。</p>
<p>本文搭建的起点是建立在已经安装了 Visual Studio Code 1.53.0 的 Ubuntu 20.04 LTS（最小化安装）系统上的。选择安装的 Swift Toolchain 为 5.3.3。</p>
<p>对于 Ubuntu 20.04, 需安装 <code>python2.7</code> 及 <code>npm</code> 以完成下面其他操作。</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#59873A;--shiki-dark:#62E884">$</span><span style="color:#B56959;--shiki-dark:#E7EE98"> sudo</span><span style="color:#B56959;--shiki-dark:#E7EE98"> apt</span><span style="color:#B56959;--shiki-dark:#E7EE98"> install</span><span style="color:#B56959;--shiki-dark:#E7EE98"> libpython2.7</span><span style="color:#B56959;--shiki-dark:#E7EE98"> libpython2.7-dev</span><span style="color:#B56959;--shiki-dark:#E7EE98"> libz3-4</span><span style="color:#B56959;--shiki-dark:#E7EE98"> npm</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> </span></span></code></pre></div>
<h2 id="swift-toolchain">Swift Toolchain</h2>
<h3 id="工具链选择">工具链选择</h3>
<p>尽管你可以直接 <a href="https://github.com/apple/swift/releases?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">下载 Swift Toolchain 的源码</a> 自己编译，但目前最推荐的方式还是使用官方提供的已编译好的下载包进行安装。<a href="https://swift.org/download/#releases?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">swift.org</a> 上提供了 Ubuntu 16.04、Ubuntu 18.04、Ubuntu 20.04、CentOS 7、CentOS 8、Amazon Linux 2 的下载包。其他的发行版本也多有自己的官方支持，比如 Fodor、Red Hat Enterprise Linux 8、Raspbian OSi 等</p>
<p>Swift 在 5.3 版本后开始正式支持 Linux 平台，所以本文选择在 Ubuntu 20.04 上安装 <a href="https://swift.org/builds/swift-5.3.3-release/ubuntu2004/swift-5.3.3-RELEASE/swift-5.3.3-RELEASE-ubuntu20.04.tar.gz?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">Swift 5.3.3 Release</a>。</p>
<h3 id="安装-toolchain">安装 Toolchain</h3>
<p>在 <a href="https://swift.org/download/?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">swift.org</a> 上查找对应发行版的 Swift Toolchain 下载地址</p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift_toolchain_download.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift_toolchain_download.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift_toolchain_download.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift_toolchain_download.png" alt="image-20210214092353715" loading="lazy" decoding="async"/>
                  </picture></p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#AB5959;--shiki-dark:#F286C4"> ~</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$wget</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> https://swift.org/builds/swift-5.3.3-release/ubuntu2004/swift-5.3.3-RELEASE/swift-5.3.3-RELEASE-ubuntu20.04.tar.gz</span></span></code></pre></div>
<p>解压文件</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$tar</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> -xzf swift-5.3.3-RELEASE-ubuntu20.04.tar.gz </span></span></code></pre></div>
<p>swift 工具链将被解压在 <code>~/swift-5.3.3-RELEASE-ubuntu20.04</code> 目录中，将该目录移动到你习惯的路径，比如：</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$sudo</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> mv swift-5.3.3-RELEASE-ubuntu20.04 /usr/share/swift</span></span></code></pre></div>
<p>请记住移动后的路径 <code>/usr/share/swift</code>，该路径将在下面的配置中被多次使用到。</p>
<p>将 swift bin 的路径添加到环境中</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$echo</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">export PATH=/usr/share/swift/usr/bin:</span><span style="color:#B56959;--shiki-dark:#BF9EEE">$PATH</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#AB5959;--shiki-dark:#F286C4"> &gt;&gt;</span><span style="color:#AB5959;--shiki-dark:#F286C4"> ~</span><span style="color:#393A34;--shiki-dark:#F6F6F4">/.bash</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$source</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> .bash</span></span></code></pre></div>
<p>至此，Swift 已经在当前系统上安装好了</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$swift</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> --version</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Swift</span><span style="color:#B56959;--shiki-dark:#E7EE98"> version</span><span style="color:#2F798A;--shiki-dark:#BF9EEE"> 5.3.3</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> (swift-5.3.3-RELEASE)</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Target:</span><span style="color:#B56959;--shiki-dark:#E7EE98"> x86_64-unknown-linux-gnu</span></span></code></pre></div>
<h3 id="运行第一段代码">运行第一段代码</h3>
<p>创建 <code>hello.swift</code>，内容为</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Swift</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="swift"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#7B7F8B">#!/usr/bin/env swift</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#97E1F1">print</span><span style="color:#999999;--shiki-dark:#F6F6F4">(</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">My first swift code</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">)</span></span></code></pre></div>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#AB5959;--shiki-dark:#F286C4"> ~</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$swift</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> hello.swift</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">My</span><span style="color:#B56959;--shiki-dark:#E7EE98"> first</span><span style="color:#B56959;--shiki-dark:#E7EE98"> swift</span><span style="color:#B56959;--shiki-dark:#E7EE98"> code</span></span></code></pre></div>
<p>或者可以将 swift 代码当做 script 来执行</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$chmod</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> +755 hello.swift</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">$./hellow.swift</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">My</span><span style="color:#B56959;--shiki-dark:#E7EE98"> first</span><span style="color:#B56959;--shiki-dark:#E7EE98"> swift</span><span style="color:#B56959;--shiki-dark:#E7EE98"> code</span></span></code></pre></div>
<h3 id="创建第一个-swift-项目">创建第一个 Swift 项目</h3>
<p>Swift Package Manager (SPM) 是苹果推出的用于创建使用 swift 的库和可执行程序的工具。目前它已经是 Swift Toolchain 的一部分了。</p>
<p>创建可执行程序项目</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#AB5959;--shiki-dark:#F286C4"> ~</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$mkdir</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> MyProject</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> MyProject</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$swift</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> package init --type executable</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> executable</span><span style="color:#B56959;--shiki-dark:#E7EE98"> package:</span><span style="color:#B56959;--shiki-dark:#E7EE98"> MyProject</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> Package.swift</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> README.md</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> .gitignore</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> Sources/</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> Sources/MyProject/main.swift</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> Tests/</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> Tests/LinuxMain.swift</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> Tests/MyProjectTests/</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> Tests/MyProjectTests/MyProjectTests.swift</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Creating</span><span style="color:#B56959;--shiki-dark:#E7EE98"> Tests/MyProjectTests/XCTestManifests.swift</span></span></code></pre></div>
<p>编译并运行该项目</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#F286C4">~</span><span style="color:#393A34;--shiki-dark:#F6F6F4">/MyProject</span><span style="color:#B07D48;--shiki-dark:#BF9EEE">$swift</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> run</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">[</span><span style="color:#393A34;--shiki-dark:#F6F6F4">4/4</span><span style="color:#999999;--shiki-dark:#F6F6F4">]</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> Linking MyProject</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">Hello,</span><span style="color:#B56959;--shiki-dark:#E7EE98"> world!</span></span></code></pre></div>
<p>该项目在下面的配置中还将使用到。也可以直接使用 vscode 打开项目文件</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#F286C4">~</span><span style="color:#393A34;--shiki-dark:#F6F6F4">/MyProject</span><span style="color:#B07D48;--shiki-dark:#BF9EEE">$code</span><span style="color:#998418;--shiki-dark:#97E1F1"> .</span></span></code></pre></div>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift_in_linux_vscode_overview.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift_in_linux_vscode_overview.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift_in_linux_vscode_overview.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift_in_linux_vscode_overview.png" alt="image-20210214144908318" loading="lazy" decoding="async"/>
                  </picture></p>
<p>vscode 对于 Swift 已经内置支持了代码高亮。</p>
<h2 id="sourcekit-lsp">SourceKit-LSP</h2>
<h3 id="什么是-lsp">什么是 LSP</h3>
<p><code>LSP</code> 的全程是 <code>Language Sever Protocol</code>，是微软提出的一项标准化协议，旨在统一开发工具与 <code>Lanuguage Server</code> 之间的通信。<code>LSP</code> 为支持的语言提供了一套通用的功能集，包括：语法高亮、自动补全、定义跳转、查找引用等等。苹果公司从 2018 年开始为 Swift 社区提供了 <a href="https://github.com/apple/sourcekit-lsp?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">LSP 的代码</a> 及支持。目前 <code>LSP</code> 已经被集成到了 Swift 的工具链中。</p>
<h3 id="安装-lsp">安装 LSP</h3>
<p>尽管 Swift ToolChain 中已经集成了 <code>LSP</code>，但是我们还是需要为 <code>vscode</code> 安装对应的插件并进行配置，才能在 vscode 中使用 Swift 的 LSP 功能。</p>
<p>由于 Swift LSP 插件没有被放置在 <code>vscode</code> 的插件市场中，我们还是需要从苹果的 <a href="https://github.com/apple/sourcekit-lsp?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">LSP Github</a> 站点上下载</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$git</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> clone https://github.com/apple/sourcekit-lsp.git</span></span></code></pre></div>
<p>下载的文件包含全部 LSP 的代码和插件代码，我们只需安装插件代码。</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> sourcekit-lsp/Editors/vscode/</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$npm</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> run createDevPackage </span></span></code></pre></div>
<blockquote>
<p>2021 年 8 月更新</p>
</blockquote>
<p>新的 LSP 版本更改了插件编译命令</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> sourcekit-lsp/Editors/vscode/</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$npm</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> install</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$npm</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> run dev-package</span></span></code></pre></div>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift_in_linux_complie_vscode_lsp.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift_in_linux_complie_vscode_lsp.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift_in_linux_complie_vscode_lsp.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift_in_linux_complie_vscode_lsp.png" alt="image-20210214151421778" loading="lazy" decoding="async"/>
                  </picture></p>
<p>编译成功的插件被放置在 <code>~/sourcekit-lsp/Editors/vscode/out</code> 目录中。</p>
<h3 id="配置-vscode">配置 vscode</h3>
<p>通过命令行将插件安装到 vscode 上</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#AB5959;--shiki-dark:#F286C4"> ~</span><span style="color:#393A34;--shiki-dark:#F6F6F4">/sourcekit-lsp/Editors/vscode</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$code</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> --install-extension sourcekit-lsp-vscode-dev.vsix</span></span></code></pre></div>
<p>或者在 vscode 中选择该插件进行安装</p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift_in_linux_vscode_install_lsp.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift_in_linux_vscode_install_lsp.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift_in_linux_vscode_install_lsp.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift_in_linux_vscode_install_lsp.png" alt="image-20210214151923560" loading="lazy" decoding="async"/>
                  </picture></p>
<p>配置 <code>Settings</code></p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift_in_linux_lsp_setting_1.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift_in_linux_lsp_setting_1.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift_in_linux_lsp_setting_1.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift_in_linux_lsp_setting_1.png" alt="image-20210214154131957" loading="lazy" decoding="async"/>
                  </picture></p>
<p>由于 <code>lsp</code> 已经集成到了 swift toolchain 中，因此在我们安装 toolchain 时，它已经被安装到了 <code>/usr/share/swift/usr/bin</code> 的目录中，并且该目录也已经设置在环境的 PATH 中，因此通常无需指定绝对路径，vscode 便可以使用 swift 的 lsp 功能。如果你自己单独下载了新版本的 lsp，可以在 <code>settings.json</code> 中设置对应的路径。</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">sourcekit-lsp.serverPath</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/bin/sourcekit-lsp</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span></code></pre></div>
<p>安装完成后，vscode 便可支持代码自动补全、定义跳转等功能。</p>
<p><img src="https://cdn.fatbobman.com/swift_in_linux_lsp_demo.gif" alt="swift_in_linux_lsp_demo"/></p>
<h2 id="lldb">LLDB</h2>
<h3 id="什么是-lldb">什么是 LLDB</h3>
<p><code>LLDB</code> 调试器是 <code>LLVM</code> 项目的调试器组件。它构建为一组可重用的组件，这些组件广泛使用 <code>LLVM</code> 中的现有库，例如 <code>Clang</code> 表达式解析器和 <code>LLVM</code> 反汇编程序。通过 <code>LLDB</code>，让 <code>vscode</code> 拥有了对 Swift 代码进行调试的能力。</p>
<h3 id="安装-lldb">安装 LLDB</h3>
<p>由于 Swift Toolchain 当前已经集成了 <code>LLDB</code>，因此我们无需对其进行安装，只需要安装 vscode 的 lldb 插件即可。</p>
<p>在 vscode 的插件市场中，安装 <code>CodeLLDB</code></p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift_in_linst_install_lldb_in_market.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift_in_linst_install_lldb_in_market.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift_in_linst_install_lldb_in_market.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift_in_linst_install_lldb_in_market.png" alt="image-20210214160313240" loading="lazy" decoding="async"/>
                  </picture></p>
<p>在 <code>settings.json</code> 中指定 <code>lldb</code> 的位置</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">lldb.library</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/lib/liblldb.so</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span></code></pre></div>
<p>也可以在 <code>settings UI</code> 中设定</p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift_in_linux_setting_lldb_path.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift_in_linux_setting_lldb_path.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift_in_linux_setting_lldb_path.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift_in_linux_setting_lldb_path.png" alt="image-20210214170242254" loading="lazy" decoding="async"/>
                  </picture></p>
<h3 id="调试配置文件">调试配置文件</h3>
<p>在 vscode 中用 lldb 对项目进行调试，需要在项目的 <code>.vscode</code> 目录中针对每个项目分别创建调试配置文件 <code>launch.json</code> 和 <code>tasks.json</code>。</p>
<p><code>launch.json</code> 是 vscode 用于调试的配置文件，比如指定调试语言环境，指定调试类型等等。其作用和 <code>XCode</code> 中的 target 类似。在 swift 项目中，我们通常会设置两个 <code>configuration</code>，一个用于调试程序，一个用于进行 <code>Unit testing</code>。</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> MyProject</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$code</span><span style="color:#998418;--shiki-dark:#97E1F1"> .</span></span></code></pre></div>
<p>在第一次点击左侧的 <code>run</code> 按钮时，vscode 会提示创建 <code>launch.json</code> 文件，我们也可以自己手动在 <code>.vscode</code> 目录中创建该文件。</p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift_in_linx_create_lanchjson.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift_in_linx_create_lanchjson.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift_in_linx_create_lanchjson.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift_in_linx_create_lanchjson.png" alt="image-20210214172254927" loading="lazy" decoding="async"/>
                  </picture></p>
<p><strong>launch. json</strong></p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">{</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">version</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">0.2.0</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">configurations</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        {</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">type</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">lldb</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> </span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">request</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">launch</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">name</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">Debug</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">program</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">${workspaceFolder}/.build/debug/MyProject</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">args</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [],</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">cwd</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">${workspaceFolder}</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">preLaunchTask</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift-build</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        },</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        {</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">type</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">lldb</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">request</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">launch</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">name</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">unit testing on Linux</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">program</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">./.build/debug/MyProjectPackageTests.xctest</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">preLaunchTask</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift-build-tests</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        }</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">    ]</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">}</span></span></code></pre></div>
<ul>
<li>
<p>type</p>
<p>用于此启动配置的调试器的类型，swift 调试需设置成 lldb</p>
</li>
<li>
<p>request</p>
<p>此启动配置的请求类型，swift 调试需设置成 launch，</p>
</li>
<li>
<p>name</p>
<p>在调试启动配置下拉列表中的显示名称</p>
</li>
<li>
<p>program</p>
<p>可执行文件的位置。使用 <code>swift build</code> 编译后（不加 realase 参数）的执行文件被放置在 <code>项目目录${workspaceFolder}/.build/debug/</code> 下，文件名通常为项目名称（本例为 MyProject）；<code>swift build -c release</code> 编译后的执行文件放置在 <code>${workspaceFolder}/.build/release/</code> 下，文件名为项目名称（本例为 MyProject）; <code>unit testing</code> 的可执行文件放置在 <code>${workspaceFolder}/.build/debug/</code>，文件名通常为 <code>项目名称 PackageTests.xctest</code>（本例为 MyProjectPackageTests. xctest）。请根据每个项目的名称、配置设定该项。</p>
</li>
<li>
<p>args</p>
<p>传递给程序的参数。比如你的项目支持启动参数设定 <code>MyProject name hello</code>，则 <code>args</code> 为 <code>[&quot;name&quot;,&quot;hello&quot;]</code></p>
</li>
<li>
<p>cwd</p>
<p>当前工作目录，用于查找依赖关系和其他文件</p>
</li>
<li>
<p>preLaunchTask</p>
<p>要在调试会话开始之前启动的任务，每个任务都需要在 <code>tasks.json</code> 中有对应的设定。比如本例中，<code>swift-build</code> 对应着 tasks. json 中的 <code>label:swift-build</code> 的 task。对于 swift 项目，在调试前最常作的工作便是编译。</p>
</li>
</ul>
<p><strong>tasks. json</strong></p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">{</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">version</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">2.0.0</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">tasks</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        {</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">label</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift-build</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">type</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">shell</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">command</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift build</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        },</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        {</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">label</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift-build-tests</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">type</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">process</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">command</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">args</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">                &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">build</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">                &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">--build-tests</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">            ]</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        }</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">    ]</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">}</span></span></code></pre></div>
<ul>
<li>
<p>lable</p>
<p>同 <code>launch.json</code> 中的 <code>preLaunchTask</code> 对应</p>
</li>
<li>
<p>type</p>
<p><code>shell</code> 或 <code>process</code>，为了更好的演示，本例中两种形式都采用了。</p>
</li>
<li>
<p>command</p>
<p>如果 <code>type</code> 为 <code>process</code>，<code>commnad</code> 只能为需要执行命令的可执行文件名称（不可带参数），在本例中为 <code>swift</code>, 如果 <code>type</code> 为 <code>shell</code> 则可以在 <code>command</code> 中直接写上需要调用的参数，比如 <code>swift build</code></p>
</li>
<li>
<p>args</p>
<p>对于 <code>type</code> 为 <code>process</code> 的情况，需要调用的参数在此填写。在本例中，<code>swift-build-tests</code> 也可以写成</p>
</li>
</ul>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">label</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift-build-tests</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">type</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">shell</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">command</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift build --build-tests</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span></code></pre></div>
<p><code>launch.json</code> 和 <code>tasks.json</code> 还有很多其他的选项，更多的用法请参阅 <a href="https://code.visualstudio.com/docs/editor/debugging?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">vscode 手册</a> 以及 <a href="https://docs.swift.org/package-manager/?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">SPM 手册</a>。</p>
<p>现在我们就可以开始对 Swift 项目进行调试了</p>
<h3 id="第一次调试">第一次调试</h3>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> MyProject</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$code</span><span style="color:#998418;--shiki-dark:#97E1F1"> .</span></span></code></pre></div>
<p>随便给 main. swift 添加点内容，比如：</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Swift</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="swift"><code><span class="line"><span style="color:#1E754F;--shiki-dark:#F286C4">import</span><span style="color:#2E8F82;font-style:inherit;--shiki-dark:#97E1F1;--shiki-dark-font-style:italic"> Foundation</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#F286C4">let</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> a </span><span style="color:#AB5959;--shiki-dark:#F286C4">=</span><span style="color:#2F798A;--shiki-dark:#BF9EEE"> 100</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#97E1F1">print</span><span style="color:#999999;--shiki-dark:#F6F6F4">(</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">Hello, world!</span><span style="color:#999999;--shiki-dark:#F286C4">\(</span><span style="color:#998418;font-style:inherit;--shiki-dark:#97E1F1;--shiki-dark-font-style:italic">Int</span><span style="color:#B56959;--shiki-dark:#E7EE98">.</span><span style="color:#998418;--shiki-dark:#97E1F1">random</span><span style="color:#999999;--shiki-dark:#F6F6F4">(</span><span style="color:#998418;--shiki-dark:#97E1F1">in</span><span style="color:#999999;--shiki-dark:#F6F6F4">:</span><span style="color:#2F798A;--shiki-dark:#BF9EEE"> 0</span><span style="color:#AB5959;--shiki-dark:#F286C4">...</span><span style="color:#2F798A;--shiki-dark:#BF9EEE">100</span><span style="color:#999999;--shiki-dark:#F6F6F4">)</span><span style="color:#B56959;--shiki-dark:#F286C4">)</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">)</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#97E1F1">print</span><span style="color:#999999;--shiki-dark:#F6F6F4">(</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">a:</span><span style="color:#999999;--shiki-dark:#F286C4">\(</span><span style="color:#B56959;--shiki-dark:#E7EE98">a</span><span style="color:#B56959;--shiki-dark:#F286C4">)</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">)</span></span></code></pre></div>
<p><img src="https://cdn.fatbobman.com/swift-in-linux-lldb-demo.gif" alt="swift-in-linux-lldb-demo"/></p>
<h2 id="swiftformat">SwiftFormat</h2>
<h3 id="为什么要对代码-foramt">为什么要对代码 Foramt</h3>
<p>许多项目都有固定的代码风格，统一的代码规范不仅有助于项目的迭代和维护，同时也让代码更加美观和易读。但并不是每个程序员都能够掌握并熟练使用项目风格约定。通过使用自动化工具完成上述工作是让人十分惬意的事情。</p>
<p>Swift 社区中有多个 Format 项目，目前最活跃的有 <code>nicklockwood</code> 的 <a href="https://github.com/nicklockwood/SwiftFormat?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">swiftformat</a> 和 <code>Apple</code> 的 <a href="https://github.com/apple/swift-format?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">swift-format</a>。本例中，我们选择安装 <code>nicklockwood</code> 的 <a href="https://github.com/nicklockwood/SwiftFormat?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">swiftformat</a>。两者的安装方法类似，相对来说 <code>swiftformat</code> 支持的规则更多，另外同 Swift 的版本也不像 <code>swift-foramt</code> 那样需要严格绑定。</p>
<h3 id="安装命令行工具">安装命令行工具</h3>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#AB5959;--shiki-dark:#F286C4"> ~</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$git</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> clone https://github.com/nicklockwood/SwiftFormat.git</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> SwiftFormat</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$swift</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> build -c release</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$sudo</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> cp </span><span style="color:#AB5959;--shiki-dark:#F286C4">~</span><span style="color:#393A34;--shiki-dark:#F6F6F4">/SwiftFormat/.build/release/swiftformat /usr/local/bin</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$swiftformat</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> --version</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">0.47.11</span></span></code></pre></div>
<h3 id="安装-vscode-插件">安装 vscode 插件</h3>
<p><code>swiftformat</code>、<code>swift-format</code> 以及 <code>swiftlint</code> 的 vscode 插件都是由 <a href="https://github.com/vknabel?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">Valentin Kabel</a> 开发的，他同时还管理、开发了其他及个 vscode 下的 swift 插件，为在 vscode 上更好的使用 swift 作出了不小的贡献。</p>
<p>在插件商店选择 swiftformat 对应的插件（注意不要选错）。</p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift-in-linux-swiftformat-plugin-install.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift-in-linux-swiftformat-plugin-install.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift-in-linux-swiftformat-plugin-install.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift-in-linux-swiftformat-plugin-install.png" alt="image-20210214211153478" loading="lazy" decoding="async"/>
                  </picture></p>
<p>在 <code>settings.json</code> 中添加</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swiftformat.path</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/local/bin/swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swiftformat.configSearchPaths</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#999999;--shiki-dark:#F6F6F4">[</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">./swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">~/.swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        ]</span></span></code></pre></div>
<p><code>swiftformat</code> 将从 <code>Swiftformat.configSearchPaths</code> 设定的路径中尝试查找用户自己创建的配置文件（<code>.swiftformat</code>），上面的配置为，如果当前目录没有，则从用户根目录上查找。如果都没有则使用默认配置和规则。</p>
<p><img src="https://cdn.fatbobman.com/swift-in-linux-format-demo.gif" alt="swift-in-linux-format-demo"/></p>
<p><code>swiftformat</code> 目前包含 50 多个规则，它的文档做的很好，可以在 <a href="https://github.com/nicklockwood/SwiftFormat/blob/master/Rules.md?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">Rules.md</a> 中找到最新的规则列表及演示。需要注意的是，vscode 目前无法正确的响应 <code>swiftformat</code> 自定义配置中的 <code>--indent</code>，需要在 vscode 中对 <code>indent</code> 做单独的设定（我目前采用的是通过 <code>EditorConfig for VS Code</code> 做统一设置）。另外，如果通过 <code>swift.options:[&quot;--config&quot;,&quot;~/rules/.swiftformat&quot;]</code> 指定的规则文件的优先级高于 <code>swiftformat.path</code> 中的规则文件。</p>
<h2 id="swiftlint">SwiftLint</h2>
<h3 id="让代码更规范">让代码更规范</h3>
<p>在计算机科学中，lint 是一种工具程序的名称，它用来标记源代码中，某些可疑的、不具结构性的段落。它是一种静态程序分析工具，最早适用于 C 语言，在 UNIX 平台上开发出来。后来它成为通用术语，可用于描述在任何一种计算机程序语言中，用来标记源代码中有疑义段落的工具。swift 社区中，被使用的最广泛的就是 <code>realm</code> 开发的 <a href="https://github.com/realm/SwiftLint?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">SwiftLint</a>。</p>
<p>其实，上面的 swiftformat、swift-format 都具有 lint 的功能，并且和 swiftlint 在很多地方的规则都类似（都基于 <a href="https://github.com/realm/SwiftLint?utm_source=Fatbobman%20Blog&utm_medium=web&utm_campaign=Fatbobman%20Blog" rel="noreferrer noopener">Github’s Swift Style Guide</a>），但各自的特点还是略有不同。</p>
<p>swiftformat 更多的表现在对代码的自动修改上，而 swiftlint 由于直接 hook 了 Clang 和 Sourcekit，因此提供了 swiftformat 所不具备的，代码录入阶段的实时验证和提示功能（通常并不使用它的 <code>autocorrect</code>）。</p>
<h3 id="安装-swiftlint">安装 SwiftLint</h3>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">Bash</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$git</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> clone https://github.com/realm/SwiftLint.git</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$cd</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> SwiftLint</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$swift</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> build -c release</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$sudo</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> cp </span><span style="color:#AB5959;--shiki-dark:#F286C4">~</span><span style="color:#393A34;--shiki-dark:#F6F6F4">/SwiftLint/.build/release/swiftlint /usr/local/bin</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BF9EEE">$swiftlint</span><span style="color:#393A34;--shiki-dark:#F6F6F4"> --version</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#62E884">0.42.0</span></span></code></pre></div>
<h3 id="安装-swiftlint-vscode-插件">安装 swiftlint vscode 插件</h3>
<p>在 vscode 插件市场中安装 swiftlint 插件</p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift-in-linux-swiftlint-plugin.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift-in-linux-swiftlint-plugin.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift-in-linux-swiftlint-plugin.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift-in-linux-swiftlint-plugin.png" alt="image-20210215073043096" loading="lazy" decoding="async"/>
                  </picture></p>
<p>在 <code>settings.json</code> 中添加</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swiftlint.path</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/local/bin/swiftlint</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">，</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swiftlint.toolchainPath</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/bin</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swiftlint.configSearchPaths</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#393A34;--shiki-dark:#F6F6F4">: </span><span style="color:#999999;--shiki-dark:#F6F6F4">[</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">./.swiftlint.yml</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">~/.swiftlint.yml</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">    ]</span></span></code></pre></div>
<p><code>configSearchPath</code> 的设置同 <code>swiftformat</code> 类似，如果不需要自定义配置，则无需填写。</p>
<p><img src="https://cdn.fatbobman.com/swift-in-linux-lint-demo.gif" alt="swift-in-linux-lint-demo"/></p>
<h2 id="跨平台配置">跨平台配置</h2>
<p>我们已经在 Ubuntu 20.04 上构建了一个较完整的 Swift 开发环境。</p>
<h3 id="settings">settings</h3>
<p>如果你也像我一样使用了 vscode 的 setting 同步功能，那么在其他的平台（比如 mac），上述的 settings. json 将无法正常使用。</p>
<p>为了让我们构建的开发环境适应多平台，需要启用配置的多平台支持，并且针对不同平台分别设定。</p>
<p>安装 <code>platform-settings</code> 插件</p>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift-in-linux-platform-settings.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift-in-linux-platform-settings.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift-in-linux-platform-settings.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift-in-linux-platform-settings.png" alt="image-20210215091440441" loading="lazy" decoding="async"/>
                  </picture></p>
<p>修改 <code>settings.json</code></p>
<p>当前为：</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">{</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">sourcekit-lsp.serverPath</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/bin/sourcekit-lsp</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">lldb.library</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/lib/liblldb.so</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftformat.path</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/local/bin/swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftformat.configSearchPaths</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">./swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">~/.swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">    ],</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftlint.path</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/local/bin/swiftlint</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftlint.toolchainPath</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/bin</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftlint.configSearchPaths</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">./.swiftlint.yml</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">~/.swiftlint.yml</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">    ]</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">}</span></span></code></pre></div>
<p>修改为：</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">{</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">platformSettings.autoLoad</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#1E754F;--shiki-dark:#BF9EEE"> true</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">platformSettings.platforms</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> {</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">        &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">linux</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4">{</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">sourcekit-lsp.serverPath</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/bin/sourcekit-lsp</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">lldb.library</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/lib/liblldb.so</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftformat.path</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/local/bin/swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftlint.path</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/local/bin/swiftlint</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftlint.toolchainPath</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/share/swift/usr/bin</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        },</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">        &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">mac</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4">{</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">sourcekit-lsp.serverPath</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/sourcekit-lsp</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">lldb.library</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/Applications/Xcode.app/Contents/SharedFrameworks/LLDB.framework/Versions/A/LLDB</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftformat.path</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/local/bin/swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span><span style="color:#A0ADA0;--shiki-dark:#7B7F8B"> //homebrew 目前也恰巧安装在此</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftlint.path</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/usr/local/bin/swiftlint</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span><span style="color:#A0ADA0;--shiki-dark:#7B7F8B"> //指向工具的实际路径</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftlint.toolchainPath</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        }</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#F6F6F4">    </span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">    },</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftformat.configSearchPaths</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">./swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">~/.swiftformat</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">    ],</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">    &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">swiftlint.configSearchPaths</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">./.swiftlint.yml</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">        &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">~/.swiftlint.yml</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">    ]</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">}</span></span></code></pre></div>
<h3 id="launch-json">launch. json</h3>
<p>在 mac 平台下，<code>unit testing</code> 的调用方式也和 linux 下不同，因此需要在 <code>launch.json</code> 中添加一个 <code>configuration</code>，由于使用同一个 <code>preLauchchTask</code>，因此 <code>tasks.json</code> 不用改动。</p>
<div>
        <div class="flex justify-between items-center h-8 font-semibold bg-block border border-gray-200 dark:border-[#4b5563] shadow-md text-heading text-xs rounded-tl-md rounded-tr-md">
          <span class="px-4 py-1">JSON</span>
          <button class="copy-button py-1 px-4" onclick="copyCode(this, event)">
          <div class="copy-text">
            <span class="flex items-center justify-center sm:hover:text-secondary">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                <use xlink:href="#icon-clipboard"></use>
              </svg>
            </span>
          </div>
          <div class="copied-text hidden">
            <span class="flex items-center justify-center">
              <svg class="w-3 h-3 mr-1" fill="currentColor" stroke="currentColor">
                  <use xlink:href="#icon-check"></use>
             </svg>
              Copied!
            </span>
          </div>
        </button>
        </div>
      <pre class="astro-code astro-code-themes vitesse-light dracula-soft" style="background-color:#ffffff;--shiki-dark-bg:#282A36;color:#393a34;--shiki-dark:#f6f6f4;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">       {</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">type</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">lldb</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">request</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">launch</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">name</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">Debug tests on macOS</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">program</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">/Applications/Xcode.app/Contents/Developer/usr/bin/xctest</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span><span style="color:#999999;--shiki-dark:#F6F6F4">,</span><span style="color:#A0ADA0;--shiki-dark:#7B7F8B"> //For example /Applications/Xcode.app/Contents/Developer/usr/bin/xctest</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">args</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#999999;--shiki-dark:#F6F6F4"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#DEE492">                &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">${workspaceFolder}/.build/debug/MyProjectPackageTests.xctest</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">            ],</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#97E2F2">            &quot;</span><span style="color:#998418;--shiki-dark:#97E1F1">preLaunchTask</span><span style="color:#99841877;--shiki-dark:#97E2F2">&quot;</span><span style="color:#999999;--shiki-dark:#F286C4">:</span><span style="color:#B5695977;--shiki-dark:#DEE492"> &quot;</span><span style="color:#B56959;--shiki-dark:#E7EE98">swift-build-tests</span><span style="color:#B5695977;--shiki-dark:#DEE492">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#F6F6F4">        }</span><span style="color:#393A34;--shiki-dark:#F6F6F4">,</span></span></code></pre></div>
<p><picture>
                    <source media="(max-width: 479px)" srcset="https://cdn.fatbobman.com/swift-in-linux-launch-multiform.png?imageView2/0/w/500"/>
                    <source media="(max-width: 767px)" srcset="https://cdn.fatbobman.com/swift-in-linux-launch-multiform.png?imageView2/0/w/768"/>
                    <source media="(max-width: 1024px)" srcset="https://cdn.fatbobman.com/swift-in-linux-launch-multiform.png?imageView2/0/w/1024"/>
                    <img src="https://cdn.fatbobman.com/swift-in-linux-launch-multiform.png" alt="image-20210215092656451" loading="lazy" decoding="async"/>
                  </picture></p>
<p>在不同的平台上，选择对应的 target 即可。</p>
<div class="dynamic-ad-container pt-4"></div>
<h2 id="结语">结语</h2>
<p>希望本文能够帮助更多的朋友在 Linux 上使用 Swift 进行开发。</p> </div> </article> <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "author": {
    "@type": "Person",
    "name": "Fatbobman",
    "url": "https://twitter.com/fatbobman"
  },
  "dateModified": "2021-02-15T07:00:00.000Z",
  "datePublished": "2021-02-15T07:00:00.000Z",
  "description": "在Linux上搭建Swift生产级开发环境，实现代码高亮、自动补全、断点调试、代码美化等功能。含LSP,LLDB,SwiftFormat,SwiftLint配置及跨平台方案。",
  "headline": "在 Linux 系统上搭建 Swift 开发调试环境",
  "image": {
    "@type": "ImageObject"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://fatbobman.com/zh/posts/swift-in-linux/"
  },
  "url": "https://fatbobman.com/zh/posts/swift-in-linux/",
  "publisher": {
    "@type": "Organization",
    "name": "Fatbobman's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://fatbobman.com/images/blog-card.png"
    }
  }
}</script> <div class="w-full mx-auto text-center pb-0 sm:pb-6 pt-8"> <div id="custom-substack-embed" data-subcribeTest="立刻订阅" data-placeholder="输入邮箱订阅周报" style="opacity: 0; transition: opacity 0.3s; min-height: 58px;"></div> <div class="text-xs font-medium text-heading p-4">为您每周带来有关 Swift 和 SwiftUI 的精选资讯！</div> <script type="module" src="/_astro/WeeklySubscribe.astro_astro_type_script_index_0_lang.DQKrZn3Z.js"></script> </div> <div class="pt-6 pb-6  dark:border-gray-700" id="donate-author"> <!-- <p class="flex justify-center align-center text-sm font-medium text-heading">
    { lang === Lang.ZH && <SupportMeTextZH /> }
    { lang === Lang.EN && <SupportMeTextEN /> }
  </p> --> <div class="flex flex-col sm:flex-row justify-center items-center mx-auto sm:space-x-8 align-center pt-2"> <button type="button" class="text-gray-900 bg-yellow-200 hover:bg-yellow-300 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-8 py-4 text-center inline-flex items-center dark:focus:ring-gray-600 dark:border-gray-700 me-2 mb-2" onclick="window.open('https://www.buymeacoffee.com/fatbobman')"> <svg class="w-5 h-5 me-2 -ms-1" fill="none" stroke="none" xmlns="http://www.w3.org/2000/svg"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-buymecoffee"></use> </svg> <span class="text-black font-bold">Buy me a coffee</span> </button> <div class="pt-4 sm:pt-0"> <button type="button" class="text-red-500 bg-[#3b82f6] hover:bg-blue-700 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-8 py-4 text-center inline-flex items-center dark:focus:ring-gray-600 dark:border-gray-700 me-2 mb-2" onclick="window.open('https://afdian.com/a/fatbobman')"> <svg class="w-4 h-4 me-2 -ms-1" aria-hidden="true" stroke-width="2" stroke="none" fill="#fb923c" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-aifadian"></use> </svg> <span class="text-white font-bold">爱发电(微信/支付宝)</span> </button>  </div> </div> </div> <div id="copy-alert" class="hidden fixed bottom-28 right-5"> <div id="alert-1" class="flex items-center p-4 mb-4 text-blue-800 rounded-lg bg-blue-50/90 dark:bg-gray-800/90 dark:text-blue-400" role="alert"> <div class="text-sm font-medium">链接已复制</div> </div> </div> <style>
  .copy-icon {
    position: absolute;
    left: -30px; /* 根据您的布局调整位置 */
    top: 50%; /* 将图标定位到标题的中间高度 */
    transform: translateY(-50%); /* 垂直居中对齐图标 */
    cursor: pointer;
    transition: opacity 0.6s ease;
    pointer-events: all; /* 始终响应鼠标事件 */
  }

  article h2,
  article h3,
  article h4,
  article h5 {
    position: relative;
  }

  #copy-alert {
    position: fixed;
    bottom: -100px; /* 初始在视窗下方 */
    right: 20px;
    transition: bottom 0.5s ease-in-out;
  }

  /* 进入动画 */
  @keyframes slideIn {
    from {
      bottom: -100px;
    }
    to {
      bottom: 0px;
    }
  }

  /* 消失动画 */
  @keyframes slideOut {
    from {
      bottom: 20px;
    }
    to {
      bottom: -100px;
    }
  }
</style> <script defer>
  var hideTimeout; // 用于保存自动隐藏定时器的引用
  document.querySelectorAll('article h2, article h3, article h4, article h5').forEach(function (header) {
    var copyIcon = document.createElement('span');
    copyIcon.innerHTML =
      '<svg fill="currentColor" aria-hidden="true" stroke="currentColor" class="w-5 h-5 hidden md:block hover:text-secondary" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M861.866667 164.266667c-87.466667-87.466667-230.4-89.6-320-2.133334l-68.266667 68.266667c-12.8 12.8-12.8 32 0 44.8s32 12.8 44.8 0l68.266667-68.266667c64-61.866667 166.4-61.866667 230.4 2.133334 64 64 64 168.533333 2.133333 232.533333l-117.333333 119.466667c-34.133333 34.133333-81.066667 51.2-128 49.066666-46.933333-4.266667-91.733333-27.733333-119.466667-66.133333-10.666667-14.933333-29.866667-17.066667-44.8-6.4-14.933333 10.666667-17.066667 29.866667-6.4 44.8 40.533333 53.333333 100.266667 87.466667 166.4 91.733333h17.066667c59.733333 0 119.466667-23.466667 162.133333-68.266666l117.333333-119.466667c83.2-89.6 83.2-234.666667-4.266666-322.133333z"></path><path d="M505.6 750.933333l-66.133333 68.266667c-64 61.866667-166.4 61.866667-230.4-2.133333-64-64-64-168.533333-2.133334-232.533334l117.333334-119.466666c34.133333-34.133333 81.066667-51.2 128-49.066667 46.933333 4.266667 91.733333 27.733333 119.466666 66.133333 10.666667 14.933333 29.866667 17.066667 44.8 6.4 14.933333-10.666667 17.066667-29.866667 6.4-44.8-40.533333-53.333333-100.266667-87.466667-166.4-91.733333-66.133333-4.266667-130.133333 19.2-177.066666 66.133333l-117.333334 119.466667c-85.333333 89.6-85.333333 234.666667 2.133334 322.133333 44.8 44.8 102.4 66.133333 162.133333 66.133334 57.6 0 115.2-21.333333 160-64l66.133333-68.266667c12.8-12.8 12.8-32 0-44.8-14.933333-10.666667-34.133333-10.666667-46.933333 2.133333z"></path></svg>'; // 使用您选择的图标
    copyIcon.className = 'copy-icon';
    copyIcon.style.opacity = '0'; // 默认透明
    header.insertBefore(copyIcon, header.firstChild);

    header.addEventListener('mouseover', function () {
      copyIcon.style.opacity = '1';
    });
    header.addEventListener('mouseout', function () {
      copyIcon.style.opacity = '0';
    });

    copyIcon.addEventListener('click', function () {
        var url = window.location.href.split('#')[0] + '#' + header.id;
        navigator.clipboard.writeText(url).then(function () {
            var alertDiv = document.getElementById('copy-alert');
            if (alertDiv) {
                alertDiv.classList.remove('hidden'); // 确保提示框是可见的
                alertDiv.style.display = 'block'; // 显示提示框
                clearTimeout(hideTimeout); // 清除之前的定时器
                alertDiv.style.animation = 'none'; // 先清除之前的动画
                setTimeout(function () {
                    alertDiv.style.animation = 'slideIn 0.5s forwards'; // 应用新动画
                }, 10);

                // 设置自动隐藏定时器
                hideTimeout = setTimeout(function () {
                    alertDiv.style.animation = 'slideOut 0.5s forwards'; // 应用消失动画
                    setTimeout(function () {
                        alertDiv.style.display = 'none';
                    }, 500);
                }, 3000);
            }
        });
    });
  });
</script> <script>
function copyCode(button, event) {
  event.preventDefault();
  const codeBlock = button.parentNode.nextElementSibling.textContent; // 获取代码内容
  navigator.clipboard.writeText(codeBlock).then(() => {
    // 显示 "Copied"
    button.querySelector('.copy-text').style.display = 'none';
    button.querySelector('.copied-text').style.display = 'inline';

    // 3秒后恢复
    setTimeout(() => {
      button.querySelector('.copy-text').style.display = 'inline';
      button.querySelector('.copied-text').style.display = 'none';
    }, 3000);
  });
}
</script> <script>(function(){const url = "https://fatbobman.com/ads/zh";

  // 根据中英文对应不同的 adCacheKey
  const adCacheKey = 'dynamicAdCache' + (window.location.pathname.includes('/zh/') ? 'ZH' : 'EN');

  // 尝试从缓存中获取广告
  const cachedAd = JSON.parse(localStorage.getItem(adCacheKey));
  const now = Date.now();

  if (cachedAd && cachedAd.expiresAt > now) {
    console.log('Using cached ad');
    console.log(cachedAd.expiresAt - now);
    // 如果缓存有效，直接使用缓存的广告
    renderAd(cachedAd.content);
  } else {
    console.log('Fetching ad from the server');
    // 如果缓存无效，从服务器获取广告
    fetch(url, {
      headers: {
        'Accept': 'text/html',
      },
      cache: 'default'
    })
      .then(response => {
        const maxAgeMatch = response.headers.get('Cache-Control')?.match(/max-age=(\d+)/);
        const maxAge = maxAgeMatch ? parseInt(maxAgeMatch[1], 10) : 0;

        if (!response.ok || maxAge <= 0) {
          throw new Error('Invalid response or missing Cache-Control');
        }

        return response.text().then(adContent => {
          const expiresAt = now + maxAge * 1000; // 计算失效时间
          // 缓存广告内容
          localStorage.setItem(adCacheKey, JSON.stringify({ content: adContent, expiresAt }));
          // 渲染广告
          renderAd(adContent);
        });
      })
      .catch(error => console.error('Error loading the ad:', error));
  }

  // 渲染广告函数
  function renderAd(html) {
    const adSlots = document.querySelectorAll('.dynamic-ad-container');
    adSlots.forEach(slot => {
      slot.innerHTML = html;
    });
  }
})();</script> <script type="module">var c=document.querySelectorAll("article");c.forEach(function(r){var a=r.querySelectorAll("a");a.forEach(function(e){var t=e.getAttribute("href");t&&t.startsWith("http")&&!t.includes("fatbobman.com")&&!t.includes("fatbobman.github.com")&&!t.includes("localhost")&&e.setAttribute("target","_blank")})});</script> <!-- <LeaveFeedback lang={lang} /> --> <section class="pt-10"><div class="max-w-5xl sm:px-4 py-2 mx-auto"><div class="grid gap-4 sm:gap-2 sm:mx-4 sm:grid-cols-12"><div class="col-span-12 sm:col-span-3 hidden sm:block"><div class="text-center sm:text-left mt-3 mb-14 before:block before:w-24 before:h-1 before:mb-3 before:rounded before:mx-auto sm:before:mx-0 before:bg-secondary"><h3 class="text-lg font-medium text-default">相关文章</h3></div></div><div class="sm:hidden text-lg font-medium text-heading col-span-12 text-left">相关文章</div><div class="relative col-span-12 sm:px-4 space-y-6 sm:col-span-9"><div class="col-span-12 space-y-2 relative sm:px-4 sm:col-span-8 sm:space-y-4 sm:before:absolute sm:before:top-2 sm:before:bottom-0 sm:before:w-0.5 sm:before:-left-3 before:bg-block"><a class="flex flex-col sm:relative sm:before:absolute sm:before:top-2 sm:before:w-2 sm:before:h-2 sm:before:rounded-full sm:before:left-[-31px] sm:before:z-[1] before:bg-secondary group cursor-pointer" href="/zh/posts/vapor4/" id="relatedPosts-Vapor4 的安装与配置"><div class="flex items-start"><div class="w-[7px] h-[7px] bg-secondary ml-4 mr-2 flex-shrink-0 mt-2 sm:hidden" style="border-radius: 50%;"></div><h3 class="text-default group-hover:text-secondary">Vapor4 的安装与配置</h3></div></a><a class="flex flex-col sm:relative sm:before:absolute sm:before:top-2 sm:before:w-2 sm:before:h-2 sm:before:rounded-full sm:before:left-[-31px] sm:before:z-[1] before:bg-secondary group cursor-pointer" href="/zh/posts/publish-1/" id="relatedPosts-用 Publish 创建博客（一）—— 入门"><div class="flex items-start"><div class="w-[7px] h-[7px] bg-secondary ml-4 mr-2 flex-shrink-0 mt-2 sm:hidden" style="border-radius: 50%;"></div><h3 class="text-default group-hover:text-secondary">用 Publish 创建博客（一）—— 入门</h3></div></a><a class="flex flex-col sm:relative sm:before:absolute sm:before:top-2 sm:before:w-2 sm:before:h-2 sm:before:rounded-full sm:before:left-[-31px] sm:before:z-[1] before:bg-secondary group cursor-pointer" href="/zh/posts/publish-2/" id="relatedPosts-用 Publish 创建博客（二）—— 主题开发"><div class="flex items-start"><div class="w-[7px] h-[7px] bg-secondary ml-4 mr-2 flex-shrink-0 mt-2 sm:hidden" style="border-radius: 50%;"></div><h3 class="text-default group-hover:text-secondary">用 Publish 创建博客（二）—— 主题开发</h3></div></a><a class="flex flex-col sm:relative sm:before:absolute sm:before:top-2 sm:before:w-2 sm:before:h-2 sm:before:rounded-full sm:before:left-[-31px] sm:before:z-[1] before:bg-secondary group cursor-pointer" href="/zh/weekly/issue-066/" id="relatedPosts-Weekly #66 - 将 AI 整合至日常工具链"><div class="flex items-start"><div class="w-[7px] h-[7px] bg-secondary ml-4 mr-2 flex-shrink-0 mt-2 sm:hidden" style="border-radius: 50%;"></div><h3 class="text-default group-hover:text-secondary">Weekly #66 - 将 AI 整合至日常工具链</h3></div></a><a class="flex flex-col sm:relative sm:before:absolute sm:before:top-2 sm:before:w-2 sm:before:h-2 sm:before:rounded-full sm:before:left-[-31px] sm:before:z-[1] before:bg-secondary group cursor-pointer" href="/zh/posts/publish-3/" id="relatedPosts-用 Publish 创建博客（三）—— 插件开发"><div class="flex items-start"><div class="w-[7px] h-[7px] bg-secondary ml-4 mr-2 flex-shrink-0 mt-2 sm:hidden" style="border-radius: 50%;"></div><h3 class="text-default group-hover:text-secondary">用 Publish 创建博客（三）—— 插件开发</h3></div></a></div></div></div></div></section> <!-- <BottomWeeklySubscribe lang={lang} /> --> <div id="gitalk-container" data-comment-id="在 Linux 系统上搭建 Swift 开发调试环境" data-lang="zh" data-repo="blogComments" data-createIssueManually="true"></div>

    <script defer>
      document.addEventListener('DOMContentLoaded', async function () {
        // 提前检查是否需要加载评论
        try {
          const response = await fetch('https://fatbobman.com/status/comment');
          const data = await response.text();
          console.log(data, "comment");

          if (data !== '1') {
            console.log('评论功能未启用，跳过监控和加载操作。');
            return; // 提前返回，跳过后续逻辑
          }
        } catch (error) {
          console.error('检查评论状态时出错：', error);
          return; // 出现错误时也跳过后续逻辑
        }

        // 如果返回值为 "1"，则启动观察器
        const observerTarget = document.getElementById('donate-author');
        if (observerTarget) {
          const observer = new IntersectionObserver(async (entries, observer) => {
            const entry = entries[0];
            if (entry.isIntersecting) {
              console.log("load comment")
              // 停止观察，避免重复触发
              observer.unobserve(observerTarget);

              // 动态加载评论区脚本
              await loadGitalk();
            }
          }, {
            root: null, // 相对于视口
            rootMargin: '20%', // 提前 20% 的位置触发
            threshold: 0.1, // 元素显示 10% 即触发
          });

          observer.observe(observerTarget);
        }

        // 动态加载 Gitalk 脚本并初始化评论区
        async function loadGitalk() {
          const container = document.getElementById('gitalk-container');
          if (container) {
            const commentID = container.getAttribute('data-comment-id');
            const lang = container.getAttribute('data-lang');
            const repo = container.getAttribute('data-repo')
            const createIssueManually = container.getAttribute('data-createIssueManually')

            console.log(repo);
            console.log(createIssueManually)

            // 动态加载 Gitalk 脚本
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js';
            script.defer = true;
            script.onload = () => {
              const gitalk = new Gitalk({
                clientID: 'fcf61195c7f73253dc8b',
                clientSecret: '0ac2907be08248a1fcb5312e27480ad535c682e5',
                repo: repo,
                owner: 'fatbobman',
                admin: ['fatbobman'],
                id: commentID.split('/').pop().substring(0, 49),
                distractionFreeMode: true,
                createIssueManually: createIssueManually,
                language: lang,
              });

              gitalk.render('gitalk-container');
            };
            document.body.appendChild(script);
          }
        }
      });
    </script> <div class="hidden lg:block w-32 xl:w-44 lg:absolute" id="toc" style="left: -30px; top: 0px"> <div class="text-muted items-center justify-center opacity-0 transition-all duration-1000 delay-300 ease-out" id="toc-content"> <div class="w-full flex justify-end pb-2" id="toc-float-button"> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <svg fill="currentColor" stroke="currentColor" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" id="toc-list-switcher"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-toc"></use> </svg> <svg fill="currentColor" stroke="currentColor" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" id="toc-list-close" class="hidden"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-toc-close"></use> </svg>  </div> </div> <div class="text-default text-xxs xl:text-xs hidden" id="toc-list"> <ul> <li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#swift-与-linux" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> Swift 与 Linux </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#写本文的原因" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> 写本文的原因 </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#准备" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> 准备 </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#swift-toolchain" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> Swift Toolchain </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#工具链选择" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 工具链选择 </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#安装-toolchain" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 安装 Toolchain </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#运行第一段代码" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 运行第一段代码 </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#创建第一个-swift-项目" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 创建第一个 Swift 项目 </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#sourcekit-lsp" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> SourceKit-LSP </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#什么是-lsp" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 什么是 LSP </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#安装-lsp" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 安装 LSP </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#配置-vscode" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 配置 vscode </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#lldb" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> LLDB </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#什么是-lldb" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 什么是 LLDB </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#安装-lldb" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 安装 LLDB </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#调试配置文件" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 调试配置文件 </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#第一次调试" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 第一次调试 </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#swiftformat" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> SwiftFormat </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#为什么要对代码-foramt" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 为什么要对代码 Foramt </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#安装命令行工具" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 安装命令行工具 </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#安装-vscode-插件" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 安装 vscode 插件 </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#swiftlint" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> SwiftLint </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#让代码更规范" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 让代码更规范 </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#安装-swiftlint" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 安装 SwiftLint </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#安装-swiftlint-vscode-插件" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> 安装 swiftlint vscode 插件 </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#跨平台配置" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> 跨平台配置 </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#settings" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> settings </a> </div> </li><li class="xl:pl-4 pl-1 pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#launch-json" class="inline-block font-normal relative before:content-[&#34;-&#34;] before:hidden xl:before:block before:absolute before:left-[-10px] before:text-default before:w-0 break-words"> launch. json </a> </div> </li><li class=" pb-1"> <div class="text-muted hover:text-secondary hover:font-black"> <a href="#结语" class="inline-block hover:text-secondary text-heading font-medium relative before:hidden xl:before:block before:content-[&#34;▪&#34;] before:absolute before:left-[-15px] before:text-heading before:w-0 py-1 break-words"> 结语 </a> </div> </li>  </ul> </div> </div> </div> <script type="module" src="/_astro/TOC.astro_astro_type_script_index_0_lang.ARhKvemZ.js"></script> <div class="hidden md:block md:absolute" id="sidebar" style="right: -50px; top: 0px"> <div class="invisible flex flex-col space-y-4 text-muted items-center justify-center opacity-0 transition-all duration-1000 delay-300 ease-out" id="sidebar-content"> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <a href="/zh/posts/publish-3/" data-tooltip-target="tooltip-next-post" data-tooltip-placement="left" id="sidebar-next-post" class> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="currentColor" stroke-linecap="round" stroke-linejoin="round"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-previous"></use> </svg> </a>  </div> <div id="tooltip-next-post" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-44 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>用 Publish 创建博客（三）—— 插件开发</div> <div class="text-xs text-yellow-200 font-extrabold pt-2">⌥ + ←</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <script>(function(){const url = "/zh/posts/publish-3/";
const isHidden = false;

  document.addEventListener('keydown', (e) => {
    // Check if Alt+RightArrow or just RightArrow was pressed
    if (e.altKey && e.key === 'ArrowLeft') {
      // Only navigate if there's a URL and the button isn't hidden
      if (url && !isHidden) {
        e.preventDefault(); // Prevent default browser behavior
        window.location.href = url;
      }
    }
  });
})();</script> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <a href="/zh/posts/wwdc2021/" data-tooltip-target="tooltip-previous-post" data-tooltip-placement="left" id="sidebar-previous-post" class> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="currentColor" stroke-linecap="round" stroke-linejoin="round"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-next"></use> </svg> </a>  </div> <div id="tooltip-previous-post" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-44 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>WWDC 2021 观后感</div> <div class="text-xs text-yellow-200 font-extrabold pt-2">⌥ + →</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <script>(function(){const url = "/zh/posts/wwdc2021/";
const isHidden = false;

  document.addEventListener('keydown', (e) => {
    // Check if Alt+RightArrow or just RightArrow was pressed
    if (e.altKey && e.key === 'ArrowRight') {
      // Only navigate if there's a URL and the button isn't hidden
      if (url && !isHidden) {
        e.preventDefault(); // Prevent default browser behavior
        window.location.href = url;
      }
    }
  });
})();</script> <!-- <DictButton lang={lang} post = {post}/> --> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <a href="https://x.com/intent/tweet?text=%E5%9C%A8%20Linux%20%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%90%AD%E5%BB%BA%20Swift%20%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83&url=https%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Fswift-in-linux%2F&hashtags=ios%2Cswiftlang&via=fatbobman" target="_blank" id="sidebar-share-with-twitter" data-tooltip-target="tooltip-share-with-twitter" data-tooltip-placement="left"> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-twitter"></use> </svg> </a>  </div> <div id="tooltip-share-with-twitter" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-32 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>Share on X</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <a href="https://bsky.app/intent/compose?text=%E5%9C%A8%20Linux%20%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%90%AD%E5%BB%BA%20Swift%20%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83%0A by %40fatbobman.bsky.social %0Ahttps%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Fswift-in-linux%2F%0A #ios #swift" target="_blank" id="sidebar-share-with-bluesky" data-tooltip-target="tooltip-share-with-bluesky" data-tooltip-placement="left"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="0.4" stroke="currentColor" fill="currentColor" stroke-linecap="round" stroke-linejoin="round"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-bluesky"></use> </svg> </a>  </div> <div id="tooltip-share-with-bluesky" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-40 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>Share on BlueSky</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <a href="https://www.facebook.com/sharer/sharer.php?u=https%253A%252F%252Ffatbobman.com%252Fzh%252Fposts%252Fswift-in-linux%252F" target="_blank" id="sidebar-share-with-facebook" data-tooltip-target="tooltip-share-with-facebook" data-tooltip-placement="left"> <svg stroke="currentColor" fill="currentColor" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-facebook"></use> </svg> </a>  </div> <div id="tooltip-share-with-facebook" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-44 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>Share on Facebook</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Fswift-in-linux%2F&title=%E5%9C%A8%20Linux%20%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%90%AD%E5%BB%BA%20Swift%20%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83%0A%20%23ios%20%23swift%0A%20by%20%40fatbobman%0A" target="_blank" id="sidebar-share-with-weibo" data-tooltip-target="tooltip-share-with-weibo" data-tooltip-placement="left"> <svg fill="currentColor" stroke="currentColor" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-weibo"></use> </svg> </a>  </div> <div id="tooltip-share-with-weibo" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-40 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>Share on Weibo</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:16px; height:16px;">  <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Fswift-in-linux%2F" target="_blank" id="sidebar-share-with-linkedin" data-tooltip-target="tooltip-share-with-linkedin" data-tooltip-placement="left"> <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="0.1" viewBox="0 0 15 15"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-linkedin"></use> </svg> </a>  </div> <div id="tooltip-share-with-linkedin" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-40 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>Share on Linkedin</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <a href="mailto:?subject=%E6%96%87%E7%AB%A0%3A%E3%80%90%E5%9C%A8%20Linux%20%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%90%AD%E5%BB%BA%20Swift%20%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83%E3%80%91&#38;body=%E5%88%86%E4%BA%AB%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E7%BB%99%E4%BD%A0%EF%BC%9A%0A%0A%E5%9C%A8%20Linux%20%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%90%AD%E5%BB%BA%20Swift%20%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83%0A%0A%E9%93%BE%E6%8E%A5%3A%20https%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Fswift-in-linux%2F" target="_blank" id="sidebar-share-with-email" data-tooltip-target="tooltip-share-with-email" data-tooltip-placement="left"> <svg fill="currentColor" stroke="currentColor" stroke-width="20" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-email"></use> </svg> </a>  </div> <div id="tooltip-share-with-email" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-40 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>Share via Email</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <svg fill="currentColor" stroke="currentColor" stroke-width="20" id="comment-button" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" data-tooltip-target="tooltip-share-with-comment" data-tooltip-placement="left"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-comment"></use> </svg>  </div> <div id="tooltip-share-with-comment" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-44 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>Share Your Thoughts</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> <script>
  const SCROLL_OFFSET = 80;
  
  document.addEventListener('DOMContentLoaded', function() {
    const commentButton = document.getElementById('comment-button');
    if (commentButton) {
      commentButton.addEventListener('click', function() {
        const gitalkContainer = document.getElementById('gitalk-container');
        if (gitalkContainer) {
          const topPosition = gitalkContainer.getBoundingClientRect().top + window.scrollY - SCROLL_OFFSET;
          window.scrollTo({ top: topPosition, behavior: 'smooth' });
        }
      });
    }
  });
</script> <div class="opacity-50 text-heading hover:opacity-100 hover:text-secondary " style="width:20px; height:20px;">  <svg fill="currentColor" stroke="currentColor" onclick="window.scrollTo({top:0,behavior:'smooth'})" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" data-tooltip-target="tooltip-back-to-top" data-tooltip-placement="left"> <use href="/_astro/iconCollection.BuMSwq1O.svg#icon-top"></use> </svg>  </div> <div id="tooltip-back-to-top" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 w-28 text-sm font-medium text-gray-200 bg-gray-600/90 rounded-lg shadow-sm transition-opacity duration-300 tooltip dark:bg-gray-700/90"> <div> <div>Back to Top</div> </div> <div class="tooltip-arrow" data-popper-arrow></div> </div> </div> </div> <script type="module" src="/_astro/SideBar.astro_astro_type_script_index_0_lang.DVW0R156.js"></script> </div>   </div> </main> </div> <footer> <footer class="bg-block"> <div class="mx-auto w-full max-w-3xl px-4 md:px-6"> <div class="container flex flex-col items-center pt-10"> <div class="flex flex-row justify-around w-full space-x-3"> <div class="flex flex-col space-y-4"> <h2 class="font-bold text-heading">网站</h2> <div class="flex flex-col space-y-2 text-sm text-default font-medium"> <a href="https://apps.apple.com/us/app/id1534513553" class="hover:text-secondary" target="_blank">健康笔记</a> <a href="https://discord.gg/zhou-zi-de-swiftji-shi-ben-967978112509935657" class="hover:text-secondary" target="_blank">Discord</a> <a href="/zh/posts/" class="hover:text-secondary">文章</a> <a href="/zh/tags/" class="hover:text-secondary">标签</a> <a href="/zh/collections/" class="hover:text-secondary">合集</a> <a href="/zh/snippet/" class="hover:text-secondary">小贴士</a> </div> </div> <div class="flex flex-col space-y-4"> <h2 class="font-bold text-heading">关注</h2> <div class="flex flex-col space-y-2 text-sm text-default font-medium"> <a href="https://weekly.fatbobman.com" class="hover:text-secondary">周报</a> <a href="https://x.com/intent/follow?screen_name=fatbobman" class="hover:text-secondary" target="_blank">Twitter</a> <a href="https://mastodon.social/@fatbobman" class="hover:text-secondary" target="_blank">Mastodon</a> <a href="https://www.linkedin.com/in/fatbobman/" class="hover:text-secondary" target="_blank">Linkedin</a> <a href="https://bsky.app/profile/fatbobman.bsky.social" class="hover:text-secondary" target="_blank">Blue Sky</a> <a href="https://web.okjike.com/u/e32947ef-7751-4363-9456-b340eef2efd3" class="hover:text-secondary" target="_blank">
即刻
</a> <a href="https://github.com/fatbobman" class="hover:text-secondary" target="_blank">GitHub</a> <a href="/zh/rss.xml" class="hover:text-secondary hover:font-medium" target="_blank">RSS</a> </div> </div> <div class="flex flex-col space-y-4"> <h2 class="font-bold text-heading">信息</h2> <div class="flex flex-col space-y-2 text-sm text-default font-medium"> <a href="/zh/about/" class="hover:text-secondary">关于</a>  </div> </div> </div> <div class="pb-0"> <div class="flex items-center justify-center w-full px-6 pt-12 text-sm"> <span class="text-muted text-xs">Copyright © <span>2020-</span> 2025 <a href="https://x.com/fatbobman" class="border-b-secondary border-b-[1px]">Fatbobman Digital Limited</a>. All Rights
            Reserved.</span> </div> <div class="flex items-center justify-center w-full px-6 pt-2 text-sm pb-10"> <span> <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" class="block text-xs text-muted">
辽ICP备20006550号-1
</a> </span> </div> </div> </div> </div> </footer> </footer> </div> <section> <div id="weekly-modal" data-subscribeText="立刻订阅" data-placeholder="输入邮箱订阅周报"> <div id="popup-modal" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"> <!-- Modal content --> <div class="relative bg-white rounded-lg shadow-2xl dark:bg-gray-800 border-gray-200 border dark:border-gray-600"> <!-- Modal header --> <div class="flex items-center justify-between px-4 md:px-5 pt-4 pb-0 rounded-t dark:border-gray-600"> <button id="popup-modal-close-button" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path> </svg> <span class="sr-only">Close modal</span> </button> </div> <!-- Modal body --> <div class="px-4 md:px-5 pb-4"> <div class="w-full mx-auto text-center px-6 pb-6"> <div class="text-lg font-semibold text-gray-900 dark:text-blue-100 pt-4 pb-8">每周一，与您分享精心筛选的 Swift 与 SwiftUI 开发精华</div> <div id="custom-substack-embed1"></div> </div> <div class="flex justify-center pb-6"> <button id="weekly-modal-continue-button" type="button" class="text-gray-600 dark:text-gray-400 bg-transparent hover:text-gray-800 dark:hover:text-gray-200 font-medium rounded-lg text-sm px-8 py-2.5 text-center transition-colors">继续阅读</button> </div> </div> </div> </div> </div> </section> <script type="module" src="/_astro/WeeklyModalLoader.astro_astro_type_script_index_0_lang.fEmR9cQ5.js"></script>  <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js" async></script> <script>
  // 为每个需要清除 focus 状态的按钮都添加一个 clear-focus 类, 下面的代码将在点击后自动移除 focus 状态
  document.addEventListener('DOMContentLoaded', () => {
    // 获取所有具有 'clear-focus' 类的按钮
    const buttons = document.querySelectorAll('.clear-focus');

    buttons.forEach((button) => {
      button.addEventListener('click', () => {
        setTimeout(() => {
          button.blur();
        }, 0);
      });
    });
  });

  window.onpageshow = function () {
    document.documentElement.classList.add('motion-safe:scroll-smooth');
  };
</script> <div id="docsearch-container-data" data-lang="zh" data-searchtext="搜索..."></div> <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.8.3" defer></script> <script type="module">function r(e,t){const a={button:{buttonText:"搜索",buttonAriaLabel:"搜索"},modal:{searchBox:{resetButtonTitle:"清除搜索关键字",resetButtonAriaLabel:"清除搜索关键字",cancelButtonText:"取消",cancelButtonAriaLabel:"取消"},startScreen:{recentSearchesTitle:"最近搜索",noRecentSearchesText:"当前没有搜索历史记录",saveRecentSearchButtonTitle:"保存本次搜索",removeRecentSearchButtonTitle:"从搜索历史中移除",favoriteSearchesTitle:"收藏夹",removeFavoriteSearchButtonTitle:"从收藏夹移除"},errorScreen:{titleText:"无法获取结果",helpText:"请检查网络连接"},footer:{selectText:"选择",selectKeyAriaLabel:"选择",navigateText:"切换",navigateUpKeyAriaLabel:"Arrow up",navigateDownKeyAriaLabel:"Arrow down",closeText:"退出",closeKeyAriaLabel:"Escape key",searchByText:"引擎支持"},noResultsScreen:{noResultsText:"无法找到对应结果",suggestedQueryText:"可以尝试搜索如下内容",reportMissingResultsText:"确认本次搜索应该返回内容？",reportMissingResultsLinkText:"请告知我们"}}};if(typeof window<"u"){const n=window.docsearch;n({appId:"MVXKD4F4BR",apiKey:"a1b4111c3de8b9f60eeca6da001711da",indexName:"fatbobman",container:"#docsearch",insights:!0,placeholder:t,maxResultsPerGroup:50,translations:e==="zh"?a:void 0,searchParameters:{facetFilters:[`lang:${e}`],hitsPerPage:50}})}}function o(){const e=document.getElementById("docsearch-container-data");if(!e){console.error("Search container not found");return}const t=e.dataset.lang,a=e.dataset.searchtext;r(t,a)}window.addEventListener("load",()=>{document.querySelector('script[src*="docsearch"]')&&o()});</script> <!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5C7N4MF5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!-- End Google Tag Manager (noscript) --> <!--Magic Fix 解决在 Safari 下搜索框取消后会滚动到页面底部--> <div class="fixed"> <input type="text"> </div> </body></html>