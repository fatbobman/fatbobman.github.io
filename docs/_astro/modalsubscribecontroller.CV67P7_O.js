const l="weeklyModalLastShownTime-3";let a,s=!1;function c(){const e=localStorage.getItem(l),t=Date.now();return e?t-parseInt(e)>=12e4:!0}function n(){const e=document.getElementById("modal-backdrop"),t=document.getElementById("default-modal");if(e&&t)if(e.classList.contains("hidden")){if(!c())return;e.classList.remove("hidden"),e.classList.add("flex"),t.classList.remove("hidden"),t.classList.add("flex"),s=!0,r()}else e.classList.add("hidden"),e.classList.remove("flex"),t.classList.add("hidden"),t.classList.remove("flex"),s=!1,i()}function o(){!s&&c()&&(clearTimeout(a),a=setTimeout(()=>{n()},144e5))}function i(){document.addEventListener("mousemove",o),document.addEventListener("keypress",o),o()}function r(){document.removeEventListener("mousemove",o),document.removeEventListener("keypress",o)}function m(e){e.target.id==="modal-backdrop"&&n()}function u(){document.querySelectorAll('[data-modal-hide="default-modal"]').forEach(d=>{d.addEventListener("click",n)});const t=document.getElementById("modal-backdrop");t&&t.addEventListener("click",m),i()}const f={initModal:u,toggleModal:n};export{f as default};
