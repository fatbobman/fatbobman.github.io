function C(s){const b=s==="right"?"sidebar":"toc",x=s==="right"?"sidebar-content":"toc-content",t=document.getElementById(b),f=document.getElementById("article-area"),g=document.getElementById(x),u=document.getElementById("page-footer");if(!t||!f){console.error("Required elements not found");return}function y(){g&&requestAnimationFrame(()=>{g.classList.remove("invisible"),g.classList.add("visible","opacity-100")})}function B(n){for(var e=0;n;)e+=n.offsetTop,n=n.offsetParent;return e}function p(n,e=!1){let o=null,c=null;if(e&&t.style.position==="fixed"){const i=t.getBoundingClientRect(),r=f.getBoundingClientRect();s==="right"?c=r.right-i.right:o=i.left-r.left}if(t.style.position="absolute",t.style.top=n+"px",s==="right")t.style.right=(c!==null?c:-d)+"px";else if(o!==null)t.style.left=o+"px";else{const i=t.getBoundingClientRect().width;t.style.left=-(d+i)+"px"}}const d=s==="right"?60:30,l=150,h=B(t),w=s==="right"?0:4;function a(){if(t.getBoundingClientRect().top<=l){const e=(window.innerWidth-f.getBoundingClientRect().width)/2;if(t.style.position="fixed",t.style.top=l+"px",s==="right")t.style.right=e-d+"px";else{const o=t.getBoundingClientRect().width;t.style.left=e-o-d+"px"}}if(window.scrollY<=h-l&&p(w),u){const e=u.getBoundingClientRect(),o=t.getBoundingClientRect(),c=e.top-(l+o.height);if(t.style.position==="fixed"&&c<=0){const i=e.top+window.scrollY,r=f.getBoundingClientRect().top+window.scrollY,m=i-t.offsetHeight-w-r;p(m,!0);return}if(t.style.position==="absolute"&&e.top>l+o.height&&window.scrollY>h-l){const i=(window.innerWidth-f.getBoundingClientRect().width)/2;if(t.style.position="fixed",t.style.top=l+"px",s==="right")t.style.right=i-d+"px";else{const r=t.getBoundingClientRect().width;t.style.left=i-r-d+"px"}}}}function R(n,e){let o=0;return function(...c){const i=new Date().getTime();i-o>=e&&(o=i,n(...c))}}document.addEventListener("scroll",R(a,16)),window.addEventListener("resize",R(a,16)),a(),y()}export{C as initFloatSidebar};
