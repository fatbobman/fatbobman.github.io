class c{constructor({tocListId:t="toc-list",tocButtonId:i="toc-button",tocButtonContainerId:s="toc-float-button",animationDuration:o=300}={}){if(this.tocList=document.getElementById(t),this.tocButton=document.getElementById(i),this.tocButtonContainer=document.getElementById(s),this.animationDuration=o,!this.tocList||!this.tocButton){console.error("TocManager: Required elements not found.");return}this.init()}init(){this.tocList.classList.add("toc-hidden"),this.updateDisplay(),(this.tocButtonContainer||this.tocButton).addEventListener("click",this.toggleToc.bind(this)),document.addEventListener("keydown",this.handleKeydown.bind(this))}updateDisplay(){localStorage.getItem("showToc")==="true"?(this.tocList.classList.remove("hidden"),this.tocList.offsetHeight,this.tocList.classList.remove("toc-hidden"),this.tocButton.classList.add("active")):(this.tocList.classList.add("toc-hidden"),setTimeout(()=>{localStorage.getItem("showToc")!=="true"&&this.tocList.classList.add("hidden")},this.animationDuration),this.tocButton.classList.remove("active"))}toggleToc(){const t=this.tocList.classList.contains("hidden")||this.tocList.classList.contains("toc-hidden");localStorage.setItem("showToc",t),this.updateDisplay(),this.dispatchVisibilityChange(t)}handleKeydown(t){t.altKey&&t.code==="KeyT"&&this.toggleToc()}dispatchVisibilityChange(t){document.dispatchEvent(new CustomEvent("toc:visibility-change",{detail:{visible:t}}))}}export{c as default};
